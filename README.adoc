= mercury-app
-----------

*Mercury* is an application initially created for _Learning Spring Boot_
contest.

It's purpose is to provide single entry point for sending
*notifications* in a company with internal applications in mind.

_______________________________________________________________________________________________________________
If you like the application *please star* this Github repository and
*tweet* about it with #mercuryapp hashtag.
_______________________________________________________________________________________________________________

== Features

*Notifications* may mean many things. In reality most of notifications
are being sent as an *email* or to applications trying to replace
emails, like **Slack**.

Currently following features are implemented:

* sending email through *Java Mail*
* sending email through *SendGrid*

== API

* `GET http://<host>:<port>/api/` - lists all API methods
* `POST http://<host>:<port>/api/mail` - sends mail message
* `GET http://<host>:<port>/api/message/{id}` - get message status

== Build & Install

*Mercury* uses MongoDB to store messages data. Make sure you have running MongoDB instance and appropriate configuration.

Currently in order to use **Mercury** you need to build it first.

. `git clone https://github.com/maciejwalkowiak/contest.git`
. `cd contest`
. `mvn package`
. Copy JAR file to some location for example `/opt/mercuryapp`: `cp target/mercury-0.0.1-SNAPSHOT.jar /opt/mercuryapp`
. Inside `/opt/mercuryapp` create file `application.properties` and configure mail providers
. Execute `java -jar mercury-0.0.1-SNAPSHOT.jar`

== Configuration options

== MongoDB configuration

------------------------------------------------------------------------
spring.data.mongodb.uri=mongodb://localhost/test # connection URL
spring.data.mongodb.database=
spring.data.mongodb.username=
spring.data.mongodb.password=
------------------------------------------------------------------------

=== Java Mail configuration

Put following properties to `application.properties` file:

---------------------
spring.mail.host=
spring.mail.port=
spring.mail.username=
spring.mail.password=
---------------------

To configure additional Java Mail properties use
`spring.mail.properties` prefix.

Sample configuration for Gmail account:

-----------------------------------------------------
spring.mail.host=smtp.gmail.com
spring.mail.port=587
spring.mail.username=<username>
spring.mail.password=<password>
spring.mail.properties.mail.smtp.auth=true
spring.mail.properties.mail.smtp.starttls.enable=true
-----------------------------------------------------

=== SendGrid configuration

Put following properties to `application.properties` file:

------------------
sendgrid.username=
sendgrid.password=
------------------

If you need to access SendGrid through proxy server add:

--------------------
sendgrid.proxy.host=
sendgrid.proxy.port=
--------------------

*IMPORTANT:* if both Java Mail *and* SendGrid configuration is provided
- all emails will be sent using SendGrid.
