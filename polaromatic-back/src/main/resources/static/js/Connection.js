(function(){function isConstructor(t){return t[0]==t[0].toUpperCase()}function applyBaseClassFunctions(t){t.asType=gs.baseClass.asType}function isObjectProperty(t){return["clazz","gSdefaultValue","leftShift","minus","plus","equals","toString","clone","withz","getProperties","getStatic","getClass","getMetaClass","getMethods","invokeMethod","constructor","asType","withTraits"].indexOf(t)>=0}function expandWithMetaClass(t,e){if(globalMetaClass&&globalMetaClass[e]){var r,n=globalMetaClass[e];for(r in n){var i=n.getStatic();if(i){var s;for(s in i)"gSparent"!=s&&(t[r]=i[s])}t[r]=n[r]}}return t}function createClassNames(t,e){var r,n,i=e.length;for(r=0;i>r;r++)0===r&&(n={},t.clazz=n),n.name=e[r],n.simpleName=getSimpleName(e[r]),i>r&&(n.superclass={},n=n.superclass)}function getSimpleName(t){for(var e=t.indexOf(".");e>=0;)t=t.substring(e+1),e=t.indexOf(".");return t}function isMapProperty(t){return isObjectProperty(t)||["any","collect","collectEntries","collectMany","countBy","dropWhile","each","eachWithIndex","every","find","findAll","findResult","findResults","get","getAt","groupBy","inject","intersect","max","min","putAll","putAt","reverseEach","clear","sort","spread","subMap","add","take","takeWhile","withDefault","count","drop","keySet","put","size","isEmpty","remove","containsKey","containsValue","values"].indexOf(t)>=0}function GsGroovyMap(){this.clazz={name:"java.util.LinkedHashMap",simpleName:"LinkedHashMap",superclass:{name:"java.util.HashMap",simpleName:"HashMap"}},this.add=function(t,e){if("spreadMap"==t){var r;for(r in e)isMapProperty(r)||(this[r]=e[r])}else this[t]=e;return this},this.put=function(t,e){return this.add(t,e)},this.leftShift=function(t,e){return 1==arguments.length?this.plus(arguments[0]):this.add(t,e)},this.putAt=function(t,e){this.put(t,e)},this.size=function(){var t,e=0;for(t in this)isMapProperty(t)||e++;return e},this.isEmpty=function(){return 0===this.size()},this.remove=function(t){this[t]&&delete this[t]},this.each=function(t){var e;for(e in this)if(!isMapProperty(e)){var r=arguments[0];1==r.length&&t({key:e,value:this[e]}),2==r.length&&t(e,this[e])}},this.count=function(t){var e,r=0;for(e in this)isMapProperty(e)||(1==t.length&&t({key:e,value:this[e]})&&r++,2==t.length&&t(e,this[e])&&r++);return r},this.any=function(t){var e;for(e in this)if(!isMapProperty(e)){var r=arguments[0];if(1==r.length&&t({key:e,value:this[e]}))return!0;if(2==r.length&&t(e,this[e]))return!0}return!1},this.every=function(t){var e;for(e in this)if(!isMapProperty(e)){var r=arguments[0];if(1==r.length&&!t({key:e,value:this[e]}))return!1;if(2==r.length&&!t(e,this[e]))return!1}return!0},this.find=function(t){var e;for(e in this)if(!isMapProperty(e)){var r=arguments[0];if(1==r.length){var n={key:e,value:this[e]};if(t(n))return n}if(2==r.length&&t(e,this[e]))return{key:e,value:this[e]}}return null},this.dropWhile=function(t){var e,r=gs.map();for(e in this)if(!isMapProperty(e)){var n={key:e,value:this[e]},i=arguments[0];1==i.length&&(t(n)||r.add(n.key,n.value)),2==i.length&&(t(n.key,n.value)||r.add(n.key,n.value))}return r},this.drop=function(t){var e,r=gs.map(),n=0;for(e in this)isMapProperty(e)||(n++,n>t&&r.add(e,this[e]));return r},this.findAll=function(t){var e,r=gs.map();for(e in this)if(!isMapProperty(e)){var n=arguments[0];if(1==n.length){var i={key:e,value:this[e]};t(i)&&r.add(i.key,i.value)}2==n.length&&t(e,this[e])&&r.add(e,this[e])}return r.size()>0?r:null},this.collect=function(t){var e,r=gs.list([]);for(e in this)if(!isMapProperty(e)){var n=arguments[0];1==n.length&&r.add(t({key:e,value:this[e]})),2==n.length&&r.add(t(e,this[e]))}return r.size()>0?r:null},this.containsKey=function(t){return void 0===this[t]||null===this[t]?!1:!0},this.containsValue=function(t){var e,r=!1;for(e in this)if(!isMapProperty(e)&&gs.equals(this[e],t)){r=!0;break}return r},this.get=function(t,e){return this.containsKey(t)||(this[t]=e),this[t]},this.toString=function(){var t="";return this.each(function(e,r){t=t+e+": "+r+" ,"}),"["+t+"]"},this.equals=function(t){var e,r=!0;for(e in this)isMapProperty(e)||gs.equals(this[e],t[e])||(r=!1);return r},this.keySet=function(){var t,e=gs.list([]);for(t in this)isMapProperty(t)||e.add(t);return e},this.values=function(){var t,e=gs.list([]);for(t in this)isMapProperty(t)||e.add(this[t]);return e},this.gSdefaultValue=null,this.withDefault=function(t){return this.gSdefaultValue=t,this},this.inject=function(t,e){var r;for(r in this)if(!isMapProperty(r)){if(2==e.length){var n={key:r,value:this[r]};t=e(t,n)}3==e.length&&(t=e(t,r,this[r]))}return t},this.putAll=function(t){if(t instanceof Array){var e;for(e=0;e<t.length;e++){var r=t[e];this.add(r.key,r.value)}}else{var n;for(n in t)isMapProperty(n)||this.add(n,t[n])}return this},this.plus=function(t){var e=this.clone();if(t instanceof Array)e.putAll(t);else{var r;for(r in t)isMapProperty(r)||e.add(r,t[r])}return e},this.clone=function(){var t,e=gs.map();for(t in this)isMapProperty(t)||e.add(t,this[t]);return e},this.minus=function(t){var e,r=this.clone();for(e in t)isMapProperty(e)||null!==r[e]&&void 0!==r[e]&&gs.equals(r[e],t[e])&&delete r[e];return r},this.clear=function(){var t;for(t in this)isMapProperty(t)||delete this[t]},this.withz=gs.baseClass.withz}function fillZerosLeft(t,e){for(var r=t+"";r.length<e;)r="0"+r;return r}function lastChars(t,e){var r=t+"";return r=r.substring(r.length-e)}function getItemsMultiline(t){var e=t.split("\n");return e.length>1&&""===e[e.length-1]&&e.splice(e.length-1,1),e}function StaticMethods(t){this.gSparent=t}function interceptClosureCall(t,e){return e instanceof Array&&t.length>1?t.apply(t,e):t(e)}function classInfoContainsName(t,e){return t.name==e||t.simpleName==e}function hasFunc(t,e){return null===t||void 0===t||void 0===t[e]||"function"!=typeof t[e]?!1:!0}function findPropertyInDelegates(t,e){for(var r,n=delegates.length,i=!1;n>0&&!i&&e;)n-=1,r=gs.gp(delegates[n],t,!0),void 0!==r&&(i=!0);return r}function exFn(t,e,r,n){return t[e].apply(r,joinParameters(r,n))}function delegatesFunc(t){var e=null;if(delegates.length>0){var r;for(r=delegates.length-1;r>=0&&!e;r--)delegates[r][t]&&(e=delegates[r])}return e}function joinParameters(t,e){var r,n=[t];for(r=0;r<e.size();r++)n[n.length]=e[r];return n}function getPrototypeOfClass(t){return"String"==t?String.prototype:"Number"==t?Number.prototype:"ArrayList"==t?Array.prototype:null}function addFunctionToClassIfPrototyped(t,e,r){var n=getPrototypeOfClass(r);null!==n&&void 0===n[t]&&(n[t]=e)}function removeFunctionToClass(t,e,r){var n=getPrototypeOfClass(r);null!==n&&n[t]==e&&(n[t]=null)}function categorySearching(t){var e,r=null;for(e=categories.length-1;e>=0&&null===r;e--){var n=categories[e];n[t]&&(r=n)}return r}function existAnnotatedCategory(t){return null!==annotatedCategories[t]&&void 0!==annotatedCategories[t]}function mixinSearching(t,e){var r=null,n=null;if("string"==typeof t&&(n="String"),t.clazz&&t.clazz.simpleName&&"object"==typeof t&&(n=t.clazz.simpleName),null!==n){var i,s=null;for(i=mixins.length-1;i>=0&&null===s;i--){var a=mixins[i];a.name==n&&(s=a.items)}if(null!==s)for(i=0;i<s.length&&null===r;i++)if(s[i][e])r=s[i];else{var o=s[i]();if(o){var u=o[e];null!==u&&"function"==typeof u&&(r=o)}}}return r}function mixinObjectsSearching(t,e){var r,n=null,i=null;for(r=mixinsObjects.length-1;r>=0&&null===i;r--){var s=mixinsObjects[r];s.item==t&&(i=s.items)}if(null!==i)for(r=0;r<i.length&&null===n;r++)i[r][e]&&(n=i[r]);return n}var gs=function(t){return t instanceof gs?t:this instanceof gs?void 0:new gs(t)},root=this;"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=gs),exports.gs=gs):root.gs=gs,gs.fails=!1,gs.consoleData="",gs.consoleOutput=!0,gs.consoleInfo=!1;var globalMetaClass={},categories=[],mixins=[],mixinsObjects=[],delegates=[],aStT=null,mapAddDelegate={};gs.myCategories={},gs.assert=function(t){if(t===!1){gs.fails=!0;var e="Assert Fails! - ";2==arguments.length&&null!==arguments[1]&&(e=arguments[1]+" - "),gs.println(e+t)}},gs.println=function(t){gs.consoleOutput&&console?console.log(t):(""!==gs.consoleData&&(gs.consoleData=gs.consoleData+"\n"),gs.consoleData=gs.consoleData+t)},gs.baseClass={withz:function(t){return t.apply(this,t.arguments)},getProperties:function(){var t,e=gs.map();for(t in this)"function"!=typeof this[t]&&"clazz"!=t&&e.add(t,this[t]);return e},getMethods:function(){var t,e=gs.list([]);for(t in this)if("function"==typeof this[t]&&!isObjectProperty(t)&&!isConstructor(t,this[t])){var r={name:t};e.add(r)}return e},invokeMethod:function(t,e){var r,n=[];if(e)for(r=0;r<e.length;r++)n[r]=e[r];var i=this[t];return i.apply(this,n)},constructor:function(){return this},asType:function(t){return hasFunc(t,"gSaT")&&t.gSaT(this),this},withTraits:function(){var t;for(t=0;t<arguments.length;t++)arguments[t].gSaT(this);return this},getClass:function(){return this.clazz},getMetaClass:function(){return gs.metaClass(this)}},gs.expando=function(){var t=gs.inherit(gs.baseClass,"Expando");return t.constructorWithMap=function(t){return gs.passMapToObject(t,this),this},1==arguments.length&&t.constructorWithMap(arguments[0]),t},gs.expandoMetaClass=function(){var t=gs.inherit(gs.baseClass,"ExpandoMetaClass");return t.initialize=function(){return this},t},gs.inherit=function(t,e){function r(){}return r.prototype=t,expandWithMetaClass(new r,e)},gs.set=function(t){var e;return e=0===arguments.length?gs.list([]):t,createClassNames(e,["java.util.HashSet"]),e.isSet=!0,e.withz=function(t){return interceptClosureCall(t,this)},e.add=function(t){return this.contains(t)?!1:(this[this.length]=t,this)},e.addAll=function(t){if(t instanceof Array){var e,r=!1;for(e=0;!r&&e<t.length;e++)this.contains(t[e])&&(r=!0);if(r)return!1;for(e=0;e<t.length;e++)this.add(t[e])}return this},e.equals=function(t){if(t instanceof Array&&t.length==this.length&&t.isSet){var e,r=!0;for(e=0;e<this.length&&r;e++)t.contains(this[e])||(r=!1);return r}return!1},e.toList=function(){var t,e=[];for(t=0;t<this.length;t++)e[t]=this[t];return gs.list(e)},e.plus=function(t){var e=gs.set();if(e.addAll(this),t instanceof Array){var r;for(r=0;r<t.length;r++)e.contains(t[r])||e.add(t[r])}return e},e.minus=function(t){var e=gs.set();if(e.addAll(this),t instanceof Array){var r;for(r=0;r<t.length;r++)e.contains(t[r])&&e.remove(t[r])}return e},e.remove=function(t){var e=this.indexOf(t);return e>=0?(this.splice(e,1),!0):!1},e},gs.map=function(){var t=new GsGroovyMap;return expandWithMetaClass(t,"LinkedHashMap"),applyBaseClassFunctions(t),1==arguments.length&&arguments[0]instanceof Object&&gs.passMapToObject(arguments[0],t),t},Array.prototype.get=function(t){return 2==arguments.length&&(null===this[t]||void 0===this[t])?arguments[1]:this[t]},Array.prototype.getAt=function(t){return this[t]},Array.prototype.withz=function(t){return interceptClosureCall(t,this)},Array.prototype.size=function(){return this.length},Array.prototype.isEmpty=function(){return 0===this.length},Array.prototype.add=function(t,e){return void 0===e?this[this.length]=t:this[t]=e,this},Array.prototype.addAll=function(t){var e;if(1==arguments.length)if(t instanceof Array)for(e=0;e<t.length;e++)this.add(t[e]);else this[this.length]=t;else{var r=arguments[0],n=arguments[1];for(e=0;e<n.length;e++)this.splice(r+e,0,n[e])}return!0},Array.prototype.clone=function(){var t=gs.list([]);return t.addAll(this),t},Array.prototype.plus=function(t){var e=this.clone();return e.addAll(t),e},Array.prototype.minus=function(t){var e=this.clone();return e.removeAll(t),e},Array.prototype.leftShift=function(t){return this.add(t)},Array.prototype.contains=function(t){var e,r;for(r=0;!e&&r<this.length;r++)gs.equals(this[r],t)&&(e=!0);return e},Array.prototype.containsAll=function(t){var e,r=0;for(e=0;e<t.length;e++)this.contains(t[e])&&r++;return r==t.length?!0:!1},Array.prototype.each=function(t){var e;for(e=0;e<this.length;e++)interceptClosureCall(t,this[e]);return this},Array.prototype.reverseEach=function(t){var e;for(e=this.length-1;e>=0;e--)interceptClosureCall(t,this[e]);return this},Array.prototype.eachWithIndex=function(t,e){for(e=0;e<this.length;e++)t(this[e],e);return this},Array.prototype.any=function(t){var e;for(e=0;e<this.length;e++)if(t(this[e]))return!0;return!1},Array.prototype.values=function(){var t,e=[];for(t=0;t<this.length;t++)e[t]=this[t];return e},Array.prototype.remove=function(t){var e=!1,r=-1;return"number"==typeof t?(r=t,e=this[r]):(r=this.indexOf(t),r>=0&&(e=!0)),r>=0&&this.splice(r,1),e},Array.prototype.removeAll=function(t){if(t instanceof Array){var e=[];if(this.forEach(function(r,n){t.contains(r)&&e.push(n)}),e.length>0){var r=0,n=this;e.forEach(function(t){n.splice(t-r,1),r+=1})}}else if("function"==typeof t){var i;for(i=this.length-1;i>=0;i--)t(this[i])&&this.remove(i)}return this},Array.prototype.collect=function(t){var e,r=gs.list([]);for(e=0;e<this.length;e++)r[e]=t(this[e]);return r},Array.prototype.collectMany=function(t){var e,r=gs.list([]);for(e=0;e<this.length;e++)r.addAll(t(this[e]));return r},Array.prototype.takeWhile=function(t){var e,r=gs.list([]);for(e=0;e<this.length&&t(this[e]);e++)r[e]=this[e];return r},Array.prototype.dropWhile=function(t){var e,r=gs.list([]),n=0,i=!1;for(e=0;e<this.length;e++)t(this[e])||(i=!0),i&&(r[n++]=this[e]);return r},Array.prototype.drop=function(t){var e,r=gs.list([]);for(e=t;e<this.length;e++)r[r.length]=this[e];return r},Array.prototype.findAll=function(t){var e=this.filter(t);return gs.list(e)},Array.prototype.find=function(t){var e,r;for(r=0;!e&&r<this.length;r++)t(this[r])&&(e=this[r]);return e},Array.prototype.first=function(){return this[0]},Array.prototype.head=function(){return this.first()},Array.prototype.last=function(){return this[this.length-1]},Array.prototype.sum=function(){var t,e=0;if(1==arguments.length)for(t=0;t<this.length;t++)e+=arguments[0](this[t]);else{if(this.length>0&&this[0].plus){var r=this[0];for(t=0;t+1<this.length;t++)r=r.plus(this[t+1]);return r}for(t=0;t<this.length;t++)e+=this[t]}return e},Array.prototype.inject=function(){var t;if(1==arguments.length){t=this[0];var e;for(e=1;e<this.length;e++)t=arguments[0](t,this[e])}else{t=arguments[0];var r;for(r=0;r<this.length;r++)t=arguments[1](t,this[r])}return t},Array.prototype.toList=function(){return this},Array.prototype.intersect=function(t){var e,r=gs.list([]);for(e=0;e<this.length;e++)t.contains(this[e])&&r.add(this[e]);return r},Array.prototype.max=function(){var t,e=null;for(t=0;t<this.length;t++)(null===e||this[t]>e)&&(e=this[t]);return e},Array.prototype.min=function(){var t,e=null;for(t=0;t<this.length;t++)(null===e||this[t]<e)&&(e=this[t]);return e},Array.prototype.toString=function(){if(this.length>0){var t,e="[";for(t=0;t<this.length-1;t++)e=e+this[t]+", ";return e=e+this[this.length-1]+"]"}return"[]"},Array.prototype.grep=function(t){var e,r=gs.list([]);if(t instanceof RegExp){for(e=0;e<this.length;e++)gs.match(this[e],t)&&r.add(this[e]);return r}if(t instanceof Array)return this.intersect(t);if("function"==typeof t){for(e=0;e<this.length;e++)t(this[e])&&r.add(this[e]);return r}for(e=0;e<this.length;e++)this[e]==t&&r.add(this[e]);return r},Array.prototype.equals=function(t){if(t instanceof Array&&t.length==this.length){var e,r=!0;for(e=0;e<this.length&&r;e++)gs.equals(this[e],t[e])||(r=!1);return r}return!1},Array.prototype.gSjoin=function(){var t="";1==arguments.length&&(t=arguments[0]);var e,r="";for(e=0;e<this.length;e++)r+=this[e],e+1<this.length&&(r+=t);return r},Array.prototype.oldSort=Array.prototype.sort,Array.prototype.sort=function(){var t=!0;arguments.length>0&&arguments[0]===!1&&(t=!1);var e,r=[],n=null;for(2==arguments.length&&"function"==typeof arguments[1]&&(n=arguments[1]),1==arguments.length&&"function"==typeof arguments[0]&&(n=arguments[0]),e=0;e<this.length;e++)r[e]=this[e];if(null!==n&&2==n.length&&r.oldSort(n),null!==n&&1==n.length&&r.oldSort(function(t,e){return gs.spaceShip(n(t),n(e))}),null===n&&r.oldSort(),t){for(e=0;e<this.length;e++)this[e]=r[e];return this}return gs.list(r)},Array.prototype.unique=function(){var t=!0;arguments.length>0&&arguments[0]===!1&&(t=!1);var e,r=[];for(e=0;e<this.length;e++)r.contains(this[e])||(r[r.length]=this[e]);if(t){for(this.length=0,e=0;e<r.length;e++)this[e]=r[e];return this}return gs.list(r)},Array.prototype.reverse=function(){var t,e=0;if(1==arguments.length&&arguments[0]===!0){for(t=this.length-1;t>e;t--){var r=this[e];this[e++]=this[t],this[t]=r}return this}var n=[];for(t=this.length-1;t>=0;t--)n[e++]=this[t];return gs.list(n)},Array.prototype.take=function(t){var e,r=[];for(e=0;t>e;e++)e<this.length&&(r[e]=this[e]);return gs.list(r)},Array.prototype.takeWhile=function(t){var e,r=[],n=!1;for(e=0;!n&&e<this.length;e++)t(this[e])?r[e]=this[e]:n=!0;return gs.list(r)},Array.prototype.multiply=function(t){if(0===t)return gs.list([]);var e,r=gs.list([]);for(e=0;t>e;e++){var n;for(n=0;n<this.length;n++)r.add(this[n])}return r},Array.prototype.flatten=function(){var t=gs.list([]);return gs.flatten(t,this),t},Array.prototype.collate=function(t){var e=t,r=0;2==arguments.length&&(e=arguments[1]);for(var n=gs.list([]);e*r<this.length;){for(var i=gs.list([]),s=e*r;s<this.length&&i.size()<t;)i.add(this[s++]);n.add(i),r++}return n},Array.prototype.groupBy=function(t){var e,r=gs.map();for(e=0;e<this.length;e++){var n=t(this[e]),i=r[n];i?i.add(this[e]):r.add(n,gs.list().add(this[e]))}return r},Array.prototype.putAt=function(t,e){this[t]=e},Array.prototype.clear=function(){this.splice(0,this.length)},gs.list=function(t){var e=[];if(t&&t.length>0){var r;for(r=0;r<t.length;r++)if(t[r]instanceof gs.spread){var n=t[r].values;if(n.length>0){var i;for(i=0;i<n.length;i++)e[e.length]=n[i]}}else e[e.length]=t[r]}var s=e;return createClassNames(s,["java.util.ArrayList"]),applyBaseClassFunctions(s),s},gs.flatten=function(t,e){e.each(function(e){e instanceof Array?e.length>0&&gs.flatten(t,e):t.add(e)})},gs.range=function(t,e,r){var n=t,i=e,s="string"==typeof t;s&&(n=n.charCodeAt(0),i=i.charCodeAt(0));var a=!1;if(n>i){var o=n;n=i,i=o,a=!0,r||(n+=1)}else r||(i-=1);var u,l,h;for(u=[],l=n,h=0;i>=l;l++,h++)u[h]=s?String.fromCharCode(l):l;a&&(u=u.reverse());var f=gs.list(u);return f.toList=function(){return gs.list(this.values())},f},gs.date=function(){var t;return t=1==arguments.length?new Date(arguments[0]):new Date,createClassNames(t,["java.util.Date"]),t.withz=gs.baseClass.withz,t.time=t.getTime(),t.setTime=function(e){t.time=e},t.year=t.getFullYear(),t.month=t.getMonth(),t.date=t.getDay(),t.plus=function(e){return"number"==typeof e?gs.date(t.time+144e4*e):t+e},t.minus=function(e){return"number"==typeof e?gs.date(t.time-144e4*e):t-e},t.format=function(e){var r="";return e&&(r=e,r=r.replaceAll("yyyy",t.getFullYear()),r=r.replaceAll("MM",fillZerosLeft(t.getMonth()+1,2)),r=r.replaceAll("dd",fillZerosLeft(t.getUTCDate(),2)),r=r.replaceAll("HH",fillZerosLeft(t.getHours(),2)),r=r.replaceAll("mm",fillZerosLeft(t.getMinutes(),2)),r=r.replaceAll("ss",fillZerosLeft(t.getSeconds(),2)),r=r.replaceAll("yy",lastChars(t.getFullYear(),2))),r},t.parse=function(e,r){var n=e.indexOf("MM");if(n>=0)for(var i=r.substr(n,2)-1;t.getMonth()!=i;)t.setMonth(i,t.getUTCDate());if(n=e.indexOf("dd"),n>=0)for(var s=r.substr(n,2);t.getUTCDate()!=s;)t.setUTCDate(s);return n=e.indexOf("yyyy"),n>=0?t.setFullYear(r.substr(n,4)):(n=e.indexOf("yy"),n>=0&&t.setFullYear(r.substr(n,2))),n=e.indexOf("HH"),n>=0&&t.setHours(r.substr(n,2)),n=e.indexOf("mm"),n>=0&&t.setMinutes(r.substr(n,2)),n=e.indexOf("ss"),n>=0&&t.setSeconds(r.substr(n,2)),t},t.clearTime=function(){return t.setHours(0,0,0,0),t},t.equals=function(e){return t.time==e.time},t.before=function(e){return t.time<e.time},t.after=function(e){return t.time>e.time},t},gs.rangeFromList=function(t,e,r){return t.slice(e,r+1)},gs.exactMatch=function(t,e){var r=t;return r=e instanceof RegExp?r.replace(e,"#"):r.replace(new RegExp(e),"#"),"#"==r},gs.match=function(t,e){var r;return e instanceof RegExp&&(r=t.search(e)),r>=0},gs.regExp=function(t,e){var r;r=e instanceof RegExp?new RegExp(e.source,"g"):new RegExp(e,"g");var n,i=r.exec(t);if(null===i||void 0===i)return null;for(var s=gs.list([]),a=0;i;)s[a]=i instanceof Array&&i.length<2?i[0]:gs.list(i),a+=1,i=r.exec(t);return n=gs.inherit(s,"RegExp"),createClassNames(n,["java.util.regex.Matcher"]),n.pattern=r,n.text=t,n.replaceFirst=function(t){return this.text.replaceFirst(this[0],t)},n.replaceAll=function(t){return this.text.replaceAll(this.pattern,t)},n.reset=function(){return this},n},gs.pattern=function(t){var e=gs.inherit(gs.baseClass,"Pattern");return createClassNames(e,["java.util.regex.Pattern"]),e.value=t,e},gs.matcher=function(t,e){var r=gs.inherit(gs.baseClass,"Matcher");return createClassNames(r,["java.util.regex.Matcher"]),r.data=t,r.regExp=e,r.matches=function(){return gs.exactMatch(this.data,this.regExp)},r},RegExp.prototype.matcher=function(t){return gs.matcher(t,this)},Number.prototype.times=function(t){var e;for(e=0;this>e;e++)t(e)},Number.prototype.upto=function(t,e){var r;for(r=this.value;t>=r;r++)e(r)},Number.prototype.step=function(t,e,r){var n;for(n=this.value;t>n;)r(n),n+=e},Number.prototype.multiply=function(t){return this*t},Number.prototype.power=function(t){return Math.pow(this,t)},Number.prototype.byteValue=Number.prototype.doubleValue=Number.prototype.shortValue=Number.prototype.floatValue=Number.prototype.longValue=function(){return this},Number.prototype.intValue=function(){return Math.floor(this)},String.prototype.contains=function(t){return this.indexOf(t)>=0},String.prototype.startsWith=function(t){return 0===this.indexOf(t)},String.prototype.endsWith=function(t){return this.indexOf(t)==this.length-t.length},String.prototype.count=function(t){var e=new RegExp(t,"g"),r=this.match(e);return r?r.length:0},String.prototype.size=function(){return this.length},String.prototype.replaceAll=function(t,e){var r;return r=t instanceof RegExp?new RegExp(t.source,"g"):new RegExp(t,"g"),this.replace(r,e)},String.prototype.replaceFirst=function(t,e){return this.replace(t,e)},String.prototype.reverse=function(){return this.split("").reverse().join("")},String.prototype.tokenize=function(){var t=" ";1==arguments.length&&arguments[0]&&(t=arguments[0]);var e=this.split(t);return gs.list(e)},String.prototype.multiply=function(t){if("number"==typeof t){var e,r="";for(e=0;(0|t)>e;e++)r+=this;return r}},String.prototype.capitalize=function(){return this.charAt(0).toUpperCase()+this.slice(1)},String.prototype.each=function(t){var e=gs.list(this.split(""));e.each(t)},String.prototype.inject=function(t,e){var r=gs.list(this.split(""));return r.inject(t,e)},String.prototype.eachLine=function(t){var e,r=getItemsMultiline(this);for(e=0;e<r.length;e++){var n=r[e];2==t.length?t(n,e):t(n)}},String.prototype.readLines=function(){var t=getItemsMultiline(this);return gs.list(t)},String.prototype.padRight=function(t){var e=" ";2==arguments.length&&(e=arguments[1]);for(var r=this;r.length<t;)r+=e;return r},String.prototype.padLeft=function(t){var e=" ";2==arguments.length&&(e=arguments[1]);for(var r=this;r.length<t;)r=e+r;return r},String.prototype.isNumber=function(){if(""===this.trim())return!1;var t=Number(this);return isNaN(t)?!1:!0},String.prototype.plus=function(t){var e="null";return void 0!==t&&null!==t&&(e=void 0!==t.toString?t.toString():t),this+e},String.prototype.toInteger=function(){return parseInt(this)},gs.classForName=function(name,obj){var result=null;try{for(var pos=name.indexOf(".");pos>=0;)name=name.substring(pos+1),pos=name.indexOf(".");result=eval(name)}catch(err){result=obj}return result},gs.metaClass=function(t){var e=typeof t;return"string"==e?t=new String(t):"number"==e?t=new Number(t):"function"===e&&(globalMetaClass[t.name]||(globalMetaClass[t.name]={gSstatic:new StaticMethods(t),getStatic:function(){return this.gSstatic}}),t=globalMetaClass[t.name]),t},gs.passMapToObject=function(t,e){var r;for(r in t)"function"!=typeof t[r]&&(isMapProperty(r)||gs.sp(e,r,t[r]))},gs.equals=function(t,e){return hasFunc(t,"equals")?t.equals(e):hasFunc(e,"equals")?e.equals(t):t==e},gs.is=function(t,e){if(null!==t&&hasFunc(t,"is")){var r,n=gs.list([e]);for(r=2;r<arguments.length;r++)n.add(arguments[r]);return gs.mc(t,"is",n)}return t==e},gs.random=function(){var t=gs.inherit(gs.baseClass,"Random");return t.nextInt=function(t){var e=Math.ceil(Math.random()*t);return e-1},t.nextBoolean=function(){var t=Math.random();return.5>t},t},gs.bool=function(t){if(t&&void 0!==t.isEmpty)return!t.isEmpty();if(t){if(t.asBoolean)return t.asBoolean();if("number"==typeof t&&0===t)return!1;if("string"==typeof t)return""!==t}return t},gs.less=function(t,e){return e>t},gs.greater=function(t,e){return t>e},gs.spaceShip=function(t,e){return gs.equals(t,e)?0:gs.less(t,e)?-1:gs.greater(t,e)?1:void 0},gs.instanceOf=function(t,e){var r=!1;if("String"==e)return"string"==typeof t;if("Number"==e)return"number"==typeof t;if(t.clazz){var n;for(n=t.clazz;n&&!r;)classInfoContainsName(n,e)?r=!0:n=n.superclass;if(!r&&t.clazz.interfaces){var i;for(i=0;i<t.clazz.interfaces.length&&!r;i++)classInfoContainsName(t.clazz.interfaces[i],e)&&(r=!0)}}else"function"==typeof t&&"Closure"==e&&(r=!0);return r},gs.elvis=function(t,e,r){return gs.bool(t)?e:r},gs.multiply=function(t,e){return hasFunc(t,"multiply")?t.multiply(e):t*e},gs.div=function(t,e){return hasFunc(t,"div")?t.div(e):t/e},gs.power=function(t,e){return hasFunc(t,"power")?t.power(e):Math.pow(t,e)},gs.mod=function(t,e){return hasFunc(t,"mod")?t.mod(e):t%e},gs.plus=function(t,e){return hasFunc(t,"plus")?t.plus(e):"number"==typeof t&&"number"==typeof e&&1>t+e?(1e3*t+1e3*e)/1e3:t+e},gs.minus=function(t,e){return hasFunc(t,"minus")?t.minus(e):t-e},gs.gSin=function(t,e){return e&&"function"==typeof e.contains?e.contains(t):!1},gs.thisOrObject=function(t,e){return void 0===t.withz&&e?e:t},gs.spread=function(t){t&&t instanceof Array&&(this.values=t)},gs.sp=function(t,e,r){if("setProperty"==e)t[e]=r;else if("getProperty"==e)t[e]=r;else if(null!==t&&t instanceof StaticMethods)t[e]=r,t.gSparent[e]=r;else if(t.setProperty)t.setProperty(e,r);else{var n="set"+e.charAt(0).toUpperCase()+e.slice(1);t[n]?t[n](r):void 0===t[e]&&void 0!==t.setPropertyMissing&&"function"==typeof t.setPropertyMissing?t.setPropertyMissing(e,r):t[e]=r}},gs.gp=function(t,e,r){if(3==arguments.length){if(null===t||void 0===t)return null}else if(null==t||void 0===t)throw"gs.gp Get property: "+e+" on null or undefined object.";if(t.getProperty)return t.getProperty(e);var n="get"+e.charAt(0).toUpperCase()+e.slice(1);if(t[n])return t[n]();if("size"==e&&"function"==typeof t[e])return t[e]();if(void 0!==t[e])return t[e];if(void 0!==t.clazz){var i=mapAddDelegate[t.clazz.simpleName];if(null!==i&&void 0!==i){var s;for(s=0;s<i.length;s++){var a=i[s],o=t[a][e];if(void 0!==o)return t[a][e]}}}if(void 0!==t.gSdefaultValue&&"function"==typeof t.gSdefaultValue&&(t[e]=t.gSdefaultValue()),categories.length>0&&void 0===t[e]){var u=categorySearching(n);if(null!==u)return u[n].apply(t,[t])}return void 0!==t.propertyMissing&&"function"==typeof t.propertyMissing?t.propertyMissing(e):!r&&delegates.length>0?findPropertyInDelegates(e,t):t[e]},gs.plusPlus=function(t,e,r,n){var i=gs.gp(t,e),s=i;return r?(gs.sp(t,e,i+1),s++):(gs.sp(t,e,i-1),s--),n?s:i},gs.mc=function(item,methodName,values,objectVar){if(gs.consoleInfo&&console&&console.log("[INFO] gs.mc ("+item+")."+methodName+" params:"+values),null===item||void 0===item)throw"gs.mc Calling method: "+methodName+" on null or undefined object.";if("split"==methodName&&"string"==typeof item)return item.tokenize(values[0]);if("length"==methodName&&"string"==typeof item)return item.length;if("join"==methodName&&item instanceof Array)return values.size()>0?item.gSjoin(values[0]):item.gSjoin();if(objectVar)try{return gs.mc(objectVar,methodName,values)}catch(e){}if(item[methodName]){var f=item[methodName];return f.apply?f.apply(item,values):gs.execCall(f,item,values)}if(methodName.startsWith("get")||methodName.startsWith("set")){var varName=methodName.charAt(3).toLowerCase()+methodName.slice(4);if(void 0!==item[varName]&&!hasFunc(item,varName))return methodName.startsWith("get")?gs.gp(item,varName):gs.sp(item,varName,values[0])}if(methodName.startsWith("is")){var varName=methodName.charAt(2).toLowerCase()+methodName.slice(3);if(void 0!==item[varName]&&!hasFunc(item,varName))return gs.gp(item,varName)}if("newInstance"==methodName)return item();var whereExecutes;if(categories.length>0&&(whereExecutes=categorySearching(methodName),null!==whereExecutes))return exFn(whereExecutes,methodName,item,values);var ob;for(ob in annotatedCategories)if(annotatedCategories[ob]==item.clazz.simpleName){var categoryItem=gs.myCategories[ob]();if(categoryItem[methodName]&&"function"==typeof categoryItem[methodName])return exFn(categoryItem,methodName,item,values)}if(mixins.length>0&&(whereExecutes=mixinSearching(item,methodName),null!==whereExecutes))return exFn(whereExecutes,methodName,item,values);if(mixinsObjects.length>0&&(whereExecutes=mixinObjectsSearching(item,methodName),null!==whereExecutes))return exFn(whereExecutes,methodName,item,values);if(void 0!==item.clazz){var addDelegate=mapAddDelegate[item.clazz.simpleName];if(addDelegate){var i;for(i=0;i<addDelegate.length;i++){var prop=addDelegate[i],target=item[prop][methodName];if(void 0!==target)return exFn(item[prop],methodName,item[prop],values)}}}if(delegates.length>0){var delegateFunc=delegatesFunc(methodName);if(delegateFunc)return delegateFunc[methodName].apply(item,values)}if(item.methodMissing)return item.methodMissing(methodName,values);if(delegates.length>0&&delegatesFunc("methodMissing"))return gs.mc(delegatesFunc("methodMissing"),methodName,values);if("function"==typeof eval(methodName))return eval(methodName).apply(this,values);throw"gs.mc Method "+methodName+" not exist in "+item},gs.categoryUse=function(t,e,r){var n,i;if(existAnnotatedCategory(t)){i=gs.myCategories[t]();for(n in i)isObjectProperty(n)||isConstructor(n,i[n])||"function"!=typeof i[n]||addFunctionToClassIfPrototyped(n,i[n],annotatedCategories[t])}else categories[categories.length]=e;if(r(),existAnnotatedCategory(t)){i=gs.myCategories[t]();for(n in i)isObjectProperty(n)||isConstructor(n,i[n])||"function"!=typeof i[n]||removeFunctionToClass(n,i[n],annotatedCategories[t])}else categories.splice(categories.length-1,1)};var annotatedCategories={};gs.addAnnotatedCategory=function(t,e){annotatedCategories[t]=e},gs.mixinClass=function(t,e){var r=!1;if(mixins.length>0){var n;for(n=0;n<mixins.length&&!r;n++)if(mixins[n].name==t){var i;for(i=0;i<e.length;i++)mixins[n].items[mixins[n].items.length]=e[i];r=!0}}r||(mixins[mixins.length]={name:t,items:e})},gs.mixinObject=function(t,e){var r=!1;if(mixinsObjects.length>0){var n;for(n=0;n<mixinsObjects.length&&!r;n++)if(mixinsObjects[n].item==t){var i;for(i=0;i<e.length;i++)mixinsObjects[n].items[mixinsObjects[n].items.length]=e[i];r=!0}}r||(mixinsObjects[mixinsObjects.length]={item:t,items:e})},gs.stringBuffer=function(){var t=gs.inherit(gs.baseClass,"StringBuffer");return t.value="",1==arguments.length&&"string"==typeof arguments[0]&&(t.value=arguments[0]),t.toString=function(){return this.value},t.leftShift=function(t){return this.append(t)},t.plus=function(t){return this.append(t)},t.size=function(){return this.value.length},t.append=function(t){return this.value=this.value+t,this},t},gs.astDelegate=function(t,e){var r=mapAddDelegate[t];(null===r||void 0===r)&&(r=[]),r[r.length]=e,mapAddDelegate[t]=r},gs.applyDelegate=function(t,e,r){delegates[delegates.length]=e;var n=t.apply(e,r);return delegates.pop(),n},gs.execCall=function(t,e,r){return void 0!==t.call&&"object"==typeof t?t.call.apply(t,r):t.apply(e,r)},Function.prototype.curry=function(){var t=Array.prototype.slice,e=t.apply(arguments),r=this;return function(){return r.apply(null,e.concat(t.apply(arguments)))}},Function.prototype.rcurry=function(){var t=Array.prototype.slice,e=t.apply(arguments),r=this;return function(){return r.apply(null,t.apply(arguments).concat(e))}},Function.prototype.ncurry=function(){var t=Array.prototype.slice,e=t.apply(arguments,[1]),r=arguments[0],n=this;
return function(){return n.apply(null,t.apply(arguments,[0,r]).concat(e).concat(t.apply(arguments,[r])))}},Function.prototype.leftShift=function(){var t=arguments[0],e=this;return function(){return e(t.apply(null,arguments))}},Function.prototype.rightShift=function(){var t=arguments[0],e=this;return function(){return t(e.apply(null,arguments))}},gs.fs=function(t,e){if(e&&void 0!==e[t])return e[t];var r=gs.gp(e,t);if(void 0===r){if(aStT&&void 0!==aStT[t])return aStT[t];var n=new Function("return "+t);return n()}return r},gs.toJavascript=function(t){if(t&&gs.isGroovyObj(t)){var e;if(t&&"function"!=typeof t)if(t instanceof Array){e=[];var r;for(r=0;r<t.length;r++)e[e.length]=gs.toJavascript(t[r])}else if(t instanceof Object){e={};var n;for(n in t)isMapProperty(n)||"function"==typeof t[n]||(e[n]=gs.toJavascript(t[n]))}else e=t;return e}return t},gs.toGroovy=function(t,e){var r;if(t&&"function"!=typeof t)if(t instanceof Array){r=gs.list([]);var n;for(n=0;n<t.length;n++)r.add(gs.toGroovy(t[n],e))}else if(t instanceof Object){var i;if(e){r=e();for(i in t)r[i]=gs.toGroovy(t[i])}else{r=gs.map();for(i in t)r.add(i,gs.toGroovy(t[i]))}}else r=t;return r},gs.toNumber=function(t){return t?"string"==typeof t?parseFloat(t):t:void 0},gs.isGroovyObj=function(t){return null!==t&&void 0!==t.withz&&"function"==typeof t.withz||void 0!==t.clazz&&"java.util.LinkedHashMap"==t.clazz.name},gs.execStatic=function(t,e,r,n){var i=aStT;aStT=r;var s=t[e].apply(r,n);return aStT=i,s},gs.asChar=function(t){return t.charCodeAt(0)}}).call(this);
function Connection() {
  var gSobject = gs.inherit(gs.baseClass,'Connection');
  gSobject.clazz = { name: 'polaromatic.Connection', simpleName: 'Connection'};
  gSobject.clazz.superclass = { name: 'java.lang.Object', simpleName: 'Object'};
  gSobject.initOn = function(source, path) {
    var socket = new SockJS(path);
        return [Handlebars.compile(source), Stomp.over(socket)];
  }
  gSobject['start'] = function(it) {
    var source = gs.mc($("#photo-template"),"html",[]);
    var template = gs.mc(gSobject,"initOn",[source, "/polaromatic"]).getAt(0);var client = gs.mc(gSobject,"initOn",[source, "/polaromatic"]).getAt(1);;
    gs.sp(client,"debug",null);
    return gs.mc(client,"connect",[gs.mc(gs,"toJavascript",[gs.map()]), function(it) {
      return gs.mc(client,"subscribe",["/notifications/photo", function(message) {
        var context = gs.map().add("image",gs.plus("data:image/png;base64,", gs.gp(message,"body")));
        var html = (template.delegate!=undefined?gs.applyDelegate(template,template.delegate,[context]):gs.execCall(template, this, [context]));
        gs.mc($("#timeline"),"prepend",[html]);
        return gs.mc($("#timeline .photo:first-child img"),"on",["load", function(it) {
          gs.mc(gs.mc($(this),"parent",[]),"css",[gs.mc(gs,"toJavascript",[gs.map().add("display","none").add("visibility","visible").add("height","auto")])]);
          return gs.mc(gs.mc($(this),"parent",[]),"slideDown",[]);
        }]);
      }]);
    }]);
  }
  if (arguments.length == 1) {gs.passMapToObject(arguments[0],gSobject);};
  
  return gSobject;
};
